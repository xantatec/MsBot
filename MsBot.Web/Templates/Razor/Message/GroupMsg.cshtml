@inherits TemplatePage<MsBotModel<GroupMsgReqVo>>
@using MsBot.Implementation.Template;
@using MsBot.Implementation.Template.Razor;
@using MsBot.Vo.Events.Message;
@{
    var request = Model.Request;
    var config = Model.Config;
    var rawMsg = request.RawMessage;
}
@if (rawMsg.StartsWith(config.BotName))
{
    if (rawMsg.Contains("逆推"))
    {
        await IncludeAsync("Message/_Groups/_Part_NiTui", Model);
    }

    if (rawMsg.ToLower().Contains("roll"))
    {
        await IncludeAsync("Message/_Groups/_Part_RollDian", Model);
    }

    if (
        (rawMsg.StartsWith(config.BotName + "查询") || rawMsg.StartsWith(config.BotName + " 查询"))
        &&
        config.BotMaster.Contains(request.UserId.ToString())
    )
    {
        await IncludeAsync("Message/_Groups/_Part_SearchQuestion", Model);
    }
}